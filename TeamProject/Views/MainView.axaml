<UserControl
    x:Class="TeamProject.Views.MainView"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:viewmodels="clr-namespace:TeamProject.ViewModels">

    <UserControl.DataContext>
        <viewmodels:MainViewModel/>
    </UserControl.DataContext>

    <DockPanel Margin="20">
        <!-- ìƒë‹¨ ë²„íŠ¼ + ìŠ¬ë¼ì´ë” -->
        <StackPanel Orientation="Horizontal" DockPanel.Dock="Top" Spacing="10">
            <Button Content="ì´ë¯¸ì§€ ì—´ê¸°" Command="{Binding LoadImageCommand}" Width="120"/>
            <Button Content="ë¶ˆëŸ‰ ê²€ì‚¬" Command="{Binding InspectCommand}" Width="120"/>

            <TextBlock Text="Threshold:" VerticalAlignment="Center" Margin="20,0,0,0"/>
            <Slider Minimum="0" Maximum="255" Value="{Binding ThresholdValue}" Width="150"/>
            <TextBlock Text="{Binding ThresholdValue}" VerticalAlignment="Center" Margin="5,0,0,0"/>
        </StackPanel>

        <!-- ì¤‘ì•™ ë³¸ë¬¸ -->
        <Grid ColumnDefinitions="*, 300" Margin="0,10,0,0">
            <!-- ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸° -->
            <Border BorderThickness="1" BorderBrush="Gray" Margin="0,0,10,0">
                <Image Source="{Binding Image}" Stretch="Uniform"/>
            </Border>

            <!-- ë¶ˆëŸ‰ ë¦¬ìŠ¤íŠ¸ -->
            <ListBox ItemsSource="{Binding Defects}" Grid.Column="1">
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <Border BorderThickness="0,0,0,1" BorderBrush="Gray" Padding="5">
                            <StackPanel>
                                <TextBlock Text="ðŸ”§ ë¶ˆëŸ‰ ìœ„ì¹˜" FontWeight="Bold"/>
                                <TextBlock Text="{Binding X, StringFormat='X: {0}'}"/>
                                <TextBlock Text="{Binding Y, StringFormat='Y: {0}'}"/>
                                <TextBlock Text="{Binding Width, StringFormat='W: {0}'}"/>
                                <TextBlock Text="{Binding Height, StringFormat='H: {0}'}"/>
                            </StackPanel>
                        </Border>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>
        </Grid>
    </DockPanel>
</UserControl>
